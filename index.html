<!DOCTYPE html>
<html lang="es">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>Food App</title>
        <link rel="stylesheet"
            href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.1.1/css/all.min.css">

    </head>
    <style>
    @import url('https://fonts.googleapis.com/css2?family=Onest:wght@300;400;600;700&display=swap');

:root {
    --primary-color: #000000;
    --secondary-color: #4ECDC4;
    --text-color: #2d4d6d;
    --bg-color: #F7F9FC;
    --card-bg: #FFFFFF;
    --shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
}

* {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
}

body {
    font-family: 'Onest', sans-serif;
    line-height: 1.6;
    color: var(--text-color);
    background-color: var(--bg-color);
}

header {
    background-color: var(--primary-color);
    padding: 1rem 0;
    position: sticky;
    top: 0;
    z-index: 1000;
    box-shadow: var(--shadow);
}

nav {
    display: flex;
    justify-content: space-between;
    align-items: center;
    max-width: 1024px;
    margin: 0 auto;
    padding: 0 20px;
}

.logo {
    font-size: 1.8rem;
    font-weight: 700;
    color: white;
    text-transform: uppercase;
    letter-spacing: 1px;
}

.menu-icon {
    display: none;
    cursor: pointer;
    font-size: 1.5rem;
    color: white;
}

nav ul {
    display: flex;
    list-style-type: none;
}

nav ul li {
    margin-left: 30px;
}

nav ul li a {
    color: white;
    text-decoration: none;
    font-weight: 600;
    transition: color 0.3s;
    font-size: 1.1rem;
}

nav ul li a:hover {
    color: var(--secondary-color);
}

main {
    max-width: 1024px;
    margin: 2rem auto;
    padding: 0 20px;
}

section {
    margin-bottom: 4rem;
}

h2 {
    font-size: 2.5rem;
    margin-bottom: 1.5rem;
    color: var(--primary-color);
    text-align: center;
    font-weight: 700;
}

.carousel {
    position: relative;
    overflow: hidden;
    border-radius: 15px;
    box-shadow: var(--shadow);
    margin-bottom: 3rem;
}

.carousel-inner {
    display: flex;
    transition: transform 0.5s ease-in-out;
    height: 400px;
}

.carousel-inner img {
    flex: 0 0 100%;
    width: 100%;
    height: 100%;
    object-fit: cover;
}

.carousel-prev, .carousel-next {
    position: absolute;
    top: 50%;
    transform: translateY(-50%);
    background: rgba(255, 255, 255, 0.7);
    color: var(--primary-color);
    border: none;
    width: 50px;
    height: 50px;
    cursor: pointer;
    font-size: 1.5rem;
    border-radius: 50%;
    transition: background-color 0.3s, color 0.3s;
    display: flex;
    align-items: center;
    justify-content: center;
}

.carousel-prev:hover, .carousel-next:hover {
    background: var(--primary-color);
    color: white;
}

.carousel-prev {
    left: 20px;
}

.carousel-next {
    right: 20px;
}


.categories {
    display: flex;
    flex-wrap: wrap;
    align-items: center;
    justify-content: center;
    gap: 30px;
    margin-bottom: 50px;
}

.category {
    flex: 0 0 auto;
    width: 200px;
    height: 200px;
    border-radius: 15px;
    position: relative;
    border-radius: 50%;
    overflow: hidden;
    transition: all 0.3s;
    box-shadow: var(--shadow);
    background-color: var(--card-bg);
}

.category:hover {
    transform: translateY(-5px);
    box-shadow: 0 5px 15px rgba(0,0,0,0.2);
}

.category-image {
    width: 100%;
    height: 100%;
    object-fit: cover;
}

.category-content {
    position: absolute;
    bottom: -30px;
    left: 0;
    right: 0;
    text-align: center;
    transition: bottom 0.3s;
    background-color: rgba(255, 255, 255, 0.6);
}

.category:hover .category-content {
    bottom: -25px;
}

.category h3 {
    font-size: 1.5rem;
    color: var(--text-color);
    font-weight: 600;
    margin-bottom: 10px;
}

.food-category {
    margin-bottom: 50px;
}

.food-category h2 {
    margin-bottom: 30px;
    padding-bottom: 10px;
    border-bottom: 3px solid var(--secondary-color);
    display: inline-block;
}

.food-items {
    display: flex;
    flex-wrap: wrap;
    gap: 30px;
    justify-content: center;
}

.food-item {
    flex: 0 1 calc(25% - 30px);
    border-radius: 15px;
    padding: 20px;
    text-align: center;
    transition: all 0.3s;
    background-color: var(--card-bg);
    box-shadow: var(--shadow);
    position: relative;
    overflow: hidden;
}

.food-item:hover {
    transform: translateY(-10px);
    box-shadow: 0 10px 20px rgba(0,0,0,0.2);
}

.food-item img {
    width: 100%;
    height: 200px;
    object-fit: cover;
    border-radius: 10px;
    margin-bottom: 15px;
    transition: transform 0.3s;
}

.food-item:hover img {
    transform: scale(1.05);
}

.food-item h3 {
    margin: 15px 0;
    font-size: 1.3rem;
    color: var(--text-color);
    font-weight: 600;
}

.food-item p {
    font-weight: 700;
    color: var(--primary-color);
    font-size: 1.2rem;
    margin-top: 10px;
}

footer {
    background-color: var(--primary-color);
    color: white;
    text-align: center;
    padding: 2rem 0;
    margin-top: 4rem;
}

@media (max-width: 1024px) {
    .food-item {
        flex: 0 1 calc(33.33% - 30px);
    }
}

@media (max-width: 768px) {
    .carousel-inner {
        height: 300px;
    }

    .categories {
        gap: 15px;
    }

    .category {
        width: calc(50% - 15px);
        height: auto;
        aspect-ratio: 1 / 1;
    }

    .food-item {
        flex: 0 1 calc(50% - 30px);
    }

    nav {
        flex-direction: column;
    }

    nav ul {
        margin-top: 15px;
    }

    nav ul li {
        margin: 0 10px;
    }
}

@media (max-width: 600px) {
    .carousel-inner {
        height: 200px;
    }

    .carousel-prev, .carousel-next {
        width: 40px;
        height: 40px;
        font-size: 1.3rem;
    }

    .categories {
        display: flex;
        flex-wrap: wrap;
        gap: 10px;
    }

    .category {
        width: calc(50% - 10px);
    }

    .category h3 {
        font-size: 1.2rem;
    }

    .food-item {
        flex: 0 1 calc(50% - 15px);
    }

    .food-item img {
        height: 150px;
    }

    .food-item h3 {
        font-size: 1.1rem;
    }

    .food-item p {
        font-size: 1rem;
    }
}

@media (max-width: 400px) {
    .carousel-prev, .carousel-next {
        width: 30px;
        height: 30px;
        font-size: 1.1rem;
    }

    .categories {
        flex-direction: column;
        align-items: center;
        gap: 20px;
    }
    
    .category {
        width: 80%;
        max-width: 200px;
    }
    
    .category-title{
        font-size: 1.2rem;
    }

    .category h3 {
        font-size: 1rem;
    }

    .food-item {
        flex: 0 1 calc(50% - 10px);
    }

    .food-item img {
        height: 120px;
    }

    .food-item h3 {
        font-size: 1rem;
    }

    .food-item p {
        font-size: 0.9rem;
    }
}

@media print {
    body {
        font-size: 16px;
    }

    .logo {
        font-size: 1.5rem;
    }

    .menu-icon {
        display: none;
    }

    a[href="#home"]{
        display: none;
    }

    #home{
        display: none;
    }

    nav ul li {
        margin: 0 10px;
    }

    nav {
        justify-content: space-between;
        align-items: center;
        flex-wrap: wrap;
    }

    .carousel-prev, .carousel-next {
        width: 25px;
        height: 25px;
        font-size: 1rem;
    }

    .categories {
        gap: 5px;
    }

    .category {
        width: 100px;
        height: 100px;
    }

    .category h3 {
        font-size: 0.9rem;
    }

    .food-item img {
        height: 100px;
    }

    .food-item h3 {
        font-size: 0.9rem;
    }

    .food-item p {
        font-size: 0.8rem;
    }

}
</style>
    <body>
        <header>
            <nav>
                <div class="logo"><i class="fas fa-utensils"></i> Food App</div>
                <div class="menu-icon" id="menu-icon">
                    <i class="fas fa-bars"></i>
                </div>
                <div class="nav-links" id="nav-links">
                    <ul>
                        <li><a href="#home"><i class="fas fa-home"></i>
                                Inicio</a></li>
                        <li><a href="#categories"><i class="fas fa-th"></i>
                                Categorías</a></li>
                        <li><a href="#menu"><i class="fas fa-utensils"></i>
                                Menú</a></li>
                    </ul>
                </div>
            </nav>
        </header>
        <main>
            <section id="home">
                <div class="carousel">
                    <div class="carousel-inner"></div>
                    <button class="carousel-prev" type="button"
                        title="Previous"><i
                            class="fas fa-chevron-left"></i></button>
                    <button class="carousel-next" type="button" title="Next"><i
                            class="fas fa-chevron-right"></i></button>
                </div>
            </section>
            <section id="categories">
                <h2>Categorías</h2>
                <div class="categories"></div>
            </section>
            <section id="menu">
                <h2>Menú</h2>
                <div class="food-items"></div>
            </section>
        </main>
        <footer>
            <p>&copy; 2024 Food App. Todos los derechos reservados.</p>
        </footer>
<script>
            /**
 * Función para cargar los datos del archivo JSON
 * @returns {Promise<Object>} Objeto con los datos del archivo JSON
 */
async function loadData() {
    try {
        const response = await fetch('data/api.json');
        if (!response.ok) {
            throw new Error(`HTTP error! status: ${response.status}`);
        }
        return await response.json();
    } catch (error) {
        console.error("No se pudo cargar el archivo JSON:", error);
    }
}

/**
 * Función para crear el carrusel de imágenes
 * @param {Object} data Datos del archivo JSON
 * @returns {void}
 */
function createCarousel(data) {
    const carouselInner = document.querySelector('.carousel-inner');
    data.banner.forEach(url => {
        const img = document.createElement('img');
        img.src = url;
        img.alt = "Banner de promoción";
        carouselInner.appendChild(img);
    });
}

/**
 * Función para mostrar las categorías en la página
    * @param {Object} data Datos del archivo JSON
    * @returns {void}
 */
function showCategories(data) {
    const categoriesContainer = document.querySelector('.categories');
    data.categories.forEach(category => {
        const categoryDiv = document.createElement('div');
        categoryDiv.className = 'category';
        categoryDiv.innerHTML = `
            <img src="${category.image}" alt="${category.name}" class="category-image">
            <div class="category-content">
                <h3>${category.name}</h3>
                <span>${category.id}</span>
            </div>
        `;

        // Añadir efecto hover
        categoryDiv.addEventListener('mouseenter', () => {
            categoryDiv.style.backgroundColor = category.color;
            categoryDiv.querySelector('.category-content').style.backgroundColor = `${category.color}CC`;
            //Agregar sombra con el color de la categoría
            categoryDiv.style.boxShadow = `0 0 40px ${category.color}`;
        });

        categoryDiv.addEventListener('mouseleave', () => {
            categoryDiv.style.backgroundColor = '';
            categoryDiv.querySelector('.category-content').style.backgroundColor = 'rgba(255,255,255,0.6)';
            categoryDiv.querySelector('h3').style.color = '';
            // Quitar sombra
            categoryDiv.style.boxShadow = '';
        });

        // Añadir funcionalidad de clic
        categoryDiv.addEventListener('click', () => {
            const sectionId = `category-${category.id}`;
            const section = document.getElementById(sectionId);
            if (section) {
                section.scrollIntoView({ behavior: 'smooth' });
            }
        });

        categoriesContainer.appendChild(categoryDiv);
    });
}

/**
 * Función para mostrar los productos en la página
 * @param {Object} data Datos del archivo JSON
 * @returns {void}
 */
function showFoodItems(data) {
    const foodContainer = document.querySelector('.food-items');
    foodContainer.innerHTML = '';

    const foodByCategory = data.food.reduce((acc, item) => {
        if (!acc[item.categorie]) {
            acc[item.categorie] = [];
        }
        acc[item.categorie].push(item);
        return acc;
    }, {});

    data.categories.forEach(category => {
        const categoryFoods = foodByCategory[category.id];
        if (categoryFoods && categoryFoods.length > 0) {
            const categorySection = document.createElement('div');
            categorySection.className = 'food-category';
            categorySection.innerHTML = `<h2 class="category-title">${category.name}</h2>`;
            categorySection.id = `category-${category.id}`;

            const foodItemsContainer = document.createElement('div');
            foodItemsContainer.className = 'food-items';

            categoryFoods.forEach(item => {
                const foodDiv = document.createElement('div');
                foodDiv.className = 'food-item';
                foodDiv.innerHTML = `
            <img src="${item.image}" alt="${item.name}">
            <div class="food-item-content">
                <h3>${item.name}</h3>
                <p>Precio: $${item.price}</p>
            </div>
        `;
                foodItemsContainer.appendChild(foodDiv);
            });

            categorySection.appendChild(foodItemsContainer);
            foodContainer.appendChild(categorySection);
        }
    });
}

/**
 * Función para inicializar el carrusel
 * @returns {void}
 */
function initCarousel() {
    let currentSlide = 0;
    const slides = document.querySelectorAll('.carousel-inner img');
    const totalSlides = slides.length;

    function showSlide(index) {
        const offset = -index * 100;
        document.querySelector('.carousel-inner').style.transform = `translateX(${offset}%)`;
    }

    function nextSlide() {
        currentSlide = (currentSlide + 1) % totalSlides;
        showSlide(currentSlide);
    }

    function prevSlide() {
        currentSlide = (currentSlide - 1 + totalSlides) % totalSlides;
        showSlide(currentSlide);
    }

    document.querySelector('.carousel-next').addEventListener('click', nextSlide);
    document.querySelector('.carousel-prev').addEventListener('click', prevSlide);

    showSlide(currentSlide);

    // Auto-play del carrusel
    setInterval(nextSlide, 5000);
}

document.addEventListener('DOMContentLoaded', async () => {
    const data = await loadData();
    const menuIcon = document.getElementById('menu-icon');
    const navLinks = document.getElementById('nav-links');

    menuIcon.addEventListener('click', () => {
        navLinks.classList.toggle('active');
    });


    if (data) {
        createCarousel(data);
        showCategories(data);
        showFoodItems(data);
        initCarousel();
    }
});
</script>
    </body>
</html>